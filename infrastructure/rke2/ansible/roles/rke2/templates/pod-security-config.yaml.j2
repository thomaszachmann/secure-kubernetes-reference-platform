apiVersion: apiserver.config.k8s.io/v1
kind: AdmissionConfiguration
plugins:
  - name: PodSecurity
    configuration:
      apiVersion: pod-security.admission.config.k8s.io/v1
      kind: PodSecurityConfiguration
      defaults:
        enforce: "baseline"
        enforce-version: "latest"
        audit: "restricted"
        audit-version: "latest"
        warn: "restricted"
        warn-version: "latest"
      exemptions:
        # System namespaces that need exemption
        namespaces:
          - kube-system
          - kube-public
          - kube-node-lease
          - cattle-system
          - cattle-fleet-system
          - cattle-impersonation-system
          - operator-lifecycle-manager
          - cis-operator-system
          - tigera-operator
          - system-upgrade
        runtimeClasses: []
        usernames: []
